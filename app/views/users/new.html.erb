<% provide(:title, 'Sign up') %>
<h1>Sign up</h1>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <%= form_tag(users_path, :method => 'POST', :remote => true) do %>
          <%= render 'shared/error_messages' %>

          <%= label_tag :fullname %>
          <%= text_field_tag :fullname %>

          <%= label_tag :username %>
          <%= text_field_tag :username %>

          <%= label_tag :email %>
          <%= email_field_tag :email %>

          <%= label_tag :password %>
          <%= password_field_tag :password %>

          <%= label_tag :password_confirmation, "Password Confirmation" %>	
          <%= password_field_tag :password_confirmation%>

          <%= label_tag :role_id, 'Customer'   %>
          <%= radio_button_tag :role_id, '2', :checked => 1 %>
          <%= label_tag :role_id, 'Freelancer' %>
          <%= radio_button_tag :role_id, '1' %> 
          <div id="list"></div>
          <%= submit_tag "Create my account", class: "btn btn-primary" %>
          <% end %>
      </div>
  </div>

  <script>
    $('input:radio[name="role_id"]').change(
            function () {
                if ($(this).is(':checked') && $(this).val() === '1') {
                    $('#list').html("<%= j render 'users/list'  %> ");
                }
                else {
                    $('#list').html("");
                }
            });
  </script>